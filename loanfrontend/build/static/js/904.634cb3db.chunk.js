"use strict";(self.webpackChunkloan_management=self.webpackChunkloan_management||[]).push([[904],{20660:function(e,n,t){t.d(n,{A:function(){return A}});t(9950);var a=t(10226),r=t(59254),o=t(63464),i=t(40033),l=t(28170),s=t(79739),c=t(25333),d=t(96319),m=t(82053),u=t(93230),h=t(44414);const p=(0,r.Ay)(o.A)((e=>{let{theme:n}=e;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)}}}));function x(e){const{children:n,onClose:t,...a}=e;return(0,h.jsxs)(i.A,{sx:{m:0,p:2},...a,children:[n,t?(0,h.jsx)(c.A,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,h.jsx)(d.A,{})}):null]})}function A(e){const{openDelete:n,handleCloseDelete:t,deleteData:r,deleteId:o}=e;return(0,h.jsx)("div",{children:(0,h.jsxs)(p,{"aria-labelledby":"customized-dialog-title",open:n,children:[(0,h.jsx)(x,{id:"customized-dialog-title",onClose:t,children:"Delete"}),(0,h.jsx)(l.A,{dividers:!0,children:(0,h.jsx)(m.A,{gutterBottom:!0,p:3,children:"Are you sure you want to delete this item?"})}),(0,h.jsx)(s.A,{children:(0,h.jsxs)(u.A,{direction:"row",spacing:2,children:[(0,h.jsx)(a.A,{variant:"contained",color:"error",onClick:()=>{r(o)},children:"Yes"}),(0,h.jsx)(a.A,{variant:"contained",onClick:t,children:"No"})]})})]})})}},35777:function(e,n,t){var a=t(59254),r=t(13048);const o=(0,a.Ay)("div")({"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .name-column--cell":{color:r.A.primary.main,cursor:"pointer"},"& .name-column--cell--capitalize":{textTransform:"capitalize"},"& .name-column--cell:hover":{textDecoration:"underline"},"& .MuiDataGrid-columnHeaders":{backgroundColor:r.A.grey[200],borderBottom:"none",outline:"none !important",borderRadius:"0px"},"& .MuiDataGrid-virtualScroller":{scrollbarWidth:"1px"},"& .MuiDataGrid-toolbarContainer .MuiButton-text":{textTransform:"capitalize",fontSize:"15px"},".MuiDataGrid-cell:focus,.MuiDataGrid-columnHeader:focus,MuiDataGrid-columnHeaderCheckbox:focus":{outline:"none !important"},".css-1jiby6q-MuiDataGrid-root .MuiDataGrid-columnHeader:focus-within, .css-1jiby6q-MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none"}});n.A=o},13048:function(e,n,t){var a=t(97497);const r={0:"#FFFFFF",100:"#F9FAFB",200:"#F4F6F8",300:"#DFE3E8",400:"#C4CDD5",500:"#919EAB",600:"#637381",700:"#454F5B",800:"#212B36",900:"#161C24"},o={common:{black:"#000",white:"#fff"},primary:{lighter:"#D1E9FC",light:"#76B0F1",main:"#2065D1",dark:"#103996",darker:"#061B64",contrastText:"#fff"},secondary:{lighter:"#D6E4FF",light:"#84A9FF",main:"#3366FF",dark:"#1939B7",darker:"#091A7A",contrastText:"#fff"},info:{lighter:"#D0F2FF",light:"#74CAFF",main:"#1890FF",dark:"#0C53B7",darker:"#04297A",contrastText:"#fff"},success:{lighter:"#E9FCD4",light:"#AAF27F",main:"#54D62C",dark:"#229A16",darker:"#08660D",contrastText:r[800]},warning:{lighter:"#FFF7CD",light:"#FFE16A",main:"#FFC107",dark:"#B78103",darker:"#7A4F01",contrastText:r[800]},error:{lighter:"#FFE7D9",light:"#FFA48D",main:"#FF4842",dark:"#B72136",darker:"#7A0C2E",contrastText:"#fff"},grey:r,divider:(0,a.X4)(r[500],.24),text:{primary:r[800],secondary:r[600],disabled:r[500]},background:{paper:"#fff",default:r[100],neutral:r[200]},action:{active:r[600],hover:(0,a.X4)(r[500],.08),selected:(0,a.X4)(r[500],.16),disabled:(0,a.X4)(r[500],.8),disabledBackground:(0,a.X4)(r[500],.24),focus:(0,a.X4)(r[500],.24),hoverOpacity:.08,disabledOpacity:.48}};n.A=o},48875:function(e,n,t){t.d(n,{A:function(){return d}});var a=t(11942),r=t.n(a),o=t(9950),i=t(14650),l=t(16491),s=t(44414);const c=(0,o.forwardRef)(((e,n)=>{let{icon:t,width:a=20,sx:r,...o}=e;return(0,s.jsx)(l.A,{ref:n,component:i.In,icon:t,sx:{width:a,height:a,...r},...o})}));c.propTypes={sx:r().object,width:r().oneOfType([r().number,r().string]),icon:r().oneOfType([r().element,r().string])};var d=c},90904:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var a=t(9950),r=t(16491),o=t(25333),i=t(19808),l=t(93230),s=t(82053),c=t(10226),d=t(48089),m=t(35777),u=t(55035),h=t(73062),p=t(7999),x=t(57988),A=t(48875),g=t(63464),y=t(79739),f=t(28170),F=t(40033),j=t(60899),C=t(25979),w=t(7762),b=t(23266),D=t(70006),v=t(60666),T=t(43939),N=t(29277),k=t(24516),S=t(27232),B=t(82108),E=(t(74388),t(47065)),L=t(44414);var M=e=>{const{open:n,handleClose:t,AddAgreementData:r,editData:o,setEditData:i,EditAgreementForm:l,loanTypeData:d}=e,m=localStorage.getItem("user_id"),u=E.EditorState.createWithContent((0,E.convertFromRaw)({blocks:[{text:'[Company Name]\n\nLusaka Zambia\n\nP.O BOX 1209,\n\nLusaka\n\n10/09/09\n\nDear [Borrower Name],\n\nREF: LOAN AGREEMENT FORM\n\nDear [Borrower Name],\n\nThis agreement is made between [Company Name], referred to as the "Lender," and [Borrower Name], whose details are as follows:\n\nName: [Borrower Name]\nEmail: [Borrower Email]\nPhone: [Borrower Phone]\nLoan Number: [Loan Number]\nLoan Amount: [Loan Amount]\nLoan Tenure: [Loan Tenure]\nLoan Interest Percentage: [Loan Interest Percentage]\nLoan Interest Fee: [Loan Interest Fee]\n\nThe lender agrees to provide a loan of [Loan Amount] to the borrower under the following terms and conditions:............................\n\nThe borrower agrees to repay the loan amount in installments within the loan tenure period. By signing this agreement, the borrower acknowledges and agrees to the terms and conditions set forth herein.\n\nSincerely,\n\n[Company Name]',type:"unstyled",entityRanges:[],depth:0,inlineStyleRanges:[]}],entityMap:{}})),[h,p]=(0,a.useState)(u),x=v.Ik({loanType:v.Yj().required("loan Type is required")}),A={loanType:o?o.loanType:"",createdBy:m};(0,a.useEffect)((()=>{if(o)try{p(E.EditorState.createWithContent((0,E.convertFromRaw)(JSON.parse(null===o||void 0===o?void 0:o.content))))}catch(e){console.error("Error parsing JSON:",e)}}),[o]);const M=(0,T.Wx)({initialValues:A,validationSchema:x,enableReinitialize:!0,onSubmit:async e=>{const n={...e,content:JSON.stringify((0,E.convertToRaw)(h.getCurrentContent()))};o?l(n):r(n),t(),i(""),M.resetForm(),!o&&S.oR.success("loan Agreement Form Add successfully")}});return(0,L.jsx)("div",{children:(0,L.jsxs)(g.A,{open:n,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",maxWidth:!0,children:[(0,L.jsxs)(F.A,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,L.jsxs)(s.A,{variant:"h6",children:[o?"Edit Agreement Form":"Add New Agreement Form"," "]}),(0,L.jsx)(s.A,{children:(0,L.jsx)(w.A,{onClick:t,style:{cursor:"pointer"}})})]}),(0,L.jsx)(f.A,{dividers:!0,children:(0,L.jsxs)("form",{children:[(0,L.jsx)(s.A,{style:{marginBottom:"15px"},variant:"h6",children:"Create Loan Agreement Forms"}),(0,L.jsx)(j.Ay,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:(0,L.jsx)(j.Ay,{item:!0,xs:12,children:(0,L.jsxs)(C.A,{fullWidth:!0,children:[(0,L.jsx)(N.A,{children:"Choose Loan Type"}),(0,L.jsx)(D.A,{id:"loanType",name:"loanType",size:"small",value:M.values.loanType,onChange:M.handleChange,error:M.touched.loanType&&Boolean(M.errors.loanType),children:null===d||void 0===d?void 0:d.map((e=>(0,L.jsx)(b.A,{value:e.loanName,children:null===e||void 0===e?void 0:e.loanName},e._id)))}),(0,L.jsx)(k.A,{error:M.touched.loanType&&Boolean(M.errors.loanType),children:M.touched.loanType&&M.errors.loanType})]})})}),(0,L.jsx)(j.Ay,{container:!0,rowSpacing:3,mt:2,columnSpacing:{xs:0,sm:5,md:4},children:(0,L.jsxs)(j.Ay,{item:!0,xs:12,children:[(0,L.jsx)(N.A,{children:"Create Form"}),(0,L.jsx)(B.Editor,{wrapperClassName:"wrapper-class",editorClassName:"editor-class",toolbarClassName:"toolbar-class",editorState:h,onEditorStateChange:e=>{p(e)}})]})})]})}),(0,L.jsxs)(y.A,{children:[(0,L.jsx)(c.A,{type:"submit",variant:"contained",onClick:M.handleSubmit,style:{textTransform:"capitalize"},children:"Save"}),(0,L.jsx)(c.A,{type:"reset",variant:"outlined",style:{textTransform:"capitalize"},color:"error",onClick:()=>{p(u),M.resetForm(),i(""),t()},children:"Cancel"})]})]})})},z=t(27702),R=t(20660);var I=()=>{const e=localStorage.getItem("user_id"),[n,t]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!1),[f,F]=(0,a.useState)(!1),[j,C]=(0,a.useState)(""),[w,b]=(0,a.useState)(""),[D,v]=(0,a.useState)([]),T=()=>t(!0),N=()=>F(!1),k=async()=>{const n=await(0,z.x4)(`loanAgreement/list?createdBy=${e}`);n&&200===n.status&&y(n.data.getAllResult)};(0,a.useEffect)((()=>{k(),(async()=>{const n=await(0,z.x4)(`loanType/list?createdBy=${e}`);n&&200===n.status&&v(n.data.getAllResult)})()}),[]);const S=[{field:"_id",headerName:"S.No.",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:e=>e.api.getAllRowIds().indexOf(e.id)+1},{field:"customerName",headerName:"Customer Name",flex:1,cellClassName:"name-column--cell--capitalize"},{field:"companyName",headerName:"company Name",flex:1,cellClassName:"name-column--cell--capitalize"},{field:"loanType",headerName:"Loan Type",flex:1,cellClassName:"name-column--cell--capitalize"},{field:"action",headerName:"Action",flex:1,renderCell:e=>{const n=e=>{C(e.row._id),F(!0)};return(0,L.jsxs)(r.A,{children:[(0,L.jsx)(o.A,{fontSize:"40px",color:"primary",onClick:()=>{b(e.row),T()},children:(0,L.jsx)(p.A,{})}),(0,L.jsx)(o.A,{color:"error",onClick:()=>{n(e)},children:(0,L.jsx)(x.A,{})})]})}}];return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(M,{open:n,handleClose:()=>t(!1),AddAgreementData:async e=>{const n=e,t=await(0,z.d_)("loanAgreement/add",n);t&&201===t.status&&k()},editData:w,setEditData:b,EditAgreementForm:async e=>{const n=await(0,z.X4)(`loanAgreement/edit/${w._id}`,e);n&&200===n.status&&k()},loanTypeData:D}),(0,L.jsx)(R.A,{openDelete:f,handleCloseDelete:N,deleteData:async e=>{const n=await(0,z.Gx)(`loanAgreement/delete/${e}`);n&&200===n.status&&k(),N()},deleteId:j}),(0,L.jsxs)(i.A,{children:[(0,L.jsxs)(l.A,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,L.jsx)(s.A,{variant:"h4",children:"Loan-Agreement-Form"}),(0,L.jsx)(l.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,L.jsx)(c.A,{variant:"contained",startIcon:(0,L.jsx)(A.A,{icon:"eva:plus-fill"}),onClick:T,children:"New Agreement Form"})})]}),(0,L.jsx)(m.A,{children:(0,L.jsx)(r.A,{width:"100%",children:(0,L.jsx)(d.A,{style:{height:"600px",paddingTop:"15px"},children:(0,L.jsx)(u.zh,{rows:null!==g&&void 0!==g?g:[],columns:S,getRowId:e=>e._id,slots:{toolbar:h.O},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})]})}}}]);