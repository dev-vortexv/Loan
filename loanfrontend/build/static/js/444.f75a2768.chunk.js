"use strict";(self.webpackChunkloan_management=self.webpackChunkloan_management||[]).push([[444],{93124:function(e,t,n){n.d(t,{L:function(){return i},d:function(){return s}});var r=n(16491),a=n(82053),l=n(44414);function s(e){const{children:t,value:n,index:s,...i}=e;return(0,l.jsx)("div",{role:"tabpanel",hidden:n!==s,id:`simple-tabpanel-${s}`,"aria-labelledby":`simple-tab-${s}`,...i,children:n===s&&(0,l.jsx)(r.A,{children:(0,l.jsx)(a.A,{children:t})})})}function i(e){return{id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}}},20660:function(e,t,n){n.d(t,{A:function(){return p}});n(9950);var r=n(10226),a=n(59254),l=n(63464),s=n(40033),i=n(28170),c=n(79739),d=n(25333),o=n(96319),u=n(82053),h=n(93230),x=n(44414);const y=(0,a.Ay)(l.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function m(e){const{children:t,onClose:n,...r}=e;return(0,x.jsxs)(s.A,{sx:{m:0,p:2},...r,children:[t,n?(0,x.jsx)(d.A,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,x.jsx)(o.A,{})}):null]})}function p(e){const{openDelete:t,handleCloseDelete:n,deleteData:a,deleteId:l}=e;return(0,x.jsx)("div",{children:(0,x.jsxs)(y,{"aria-labelledby":"customized-dialog-title",open:t,children:[(0,x.jsx)(m,{id:"customized-dialog-title",onClose:n,children:"Delete"}),(0,x.jsx)(i.A,{dividers:!0,children:(0,x.jsx)(u.A,{gutterBottom:!0,p:3,children:"Are you sure you want to delete this item?"})}),(0,x.jsx)(c.A,{children:(0,x.jsxs)(h.A,{direction:"row",spacing:2,children:[(0,x.jsx)(r.A,{variant:"contained",color:"error",onClick:()=>{a(l)},children:"Yes"}),(0,x.jsx)(r.A,{variant:"contained",onClick:n,children:"No"})]})})]})})}},62253:function(e,t,n){n(9950);var r=n(16491),a=n(82053),l=n(44414);t.A=e=>{let{title:t,subtitle:n}=e;return(0,l.jsxs)(r.A,{children:[(0,l.jsx)(a.A,{variant:"h4",fontWeight:"bold",sx:{mb:"5px"},style:{textTransform:"capitalize"},children:t}),(0,l.jsx)(a.A,{variant:"body1",children:n})]})}},48875:function(e,t,n){n.d(t,{A:function(){return o}});var r=n(11942),a=n.n(r),l=n(9950),s=n(14650),i=n(16491),c=n(44414);const d=(0,l.forwardRef)(((e,t)=>{let{icon:n,width:r=20,sx:a,...l}=e;return(0,c.jsx)(i.A,{ref:t,component:s.In,icon:n,sx:{width:r,height:r,...a},...l})}));d.propTypes={sx:a().object,width:a().oneOfType([a().number,a().string]),icon:a().oneOfType([a().element,a().string])};var o=d},5444:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var r=n(19808),a=n(60899),l=n(93230),s=n(16491),i=n(11966),c=n(84142),d=n(9950),o=n(77335),u=n(82053),h=n(10226),x=n(48089),y=n(73062),m=n(55035),p=n(48875),j=n(7999),A=n(57988),v=n(20660),f=n(27702),g=n(63464),C=n(40033),b=n(28170),S=n(25979),w=n(29277),I=n(8145),N=n(70006),k=n(23266),T=n(79739),D=n(43939),_=n(60666),z=n(44414);var M=e=>{let{open:t,handleClose:n,addCurrency:r,editData:a,UpdateCurrency:l,setEditData:s}=e;const i=localStorage.getItem("user_id"),c={currencyName:a?a.currencyName:"",currencySymbol:a?a.currencySymbol:"",currencyStatus:a?a.currencyStatus:"",createdBy:i},d=_.Ik().shape({currencyName:_.Yj().required("Currency name is required").min(2,"Currency name must be at least 2 characters"),currencySymbol:_.Yj().required("Currency symbol is required").max(5,"Currency symbol can be at most 5 characters"),currencyStatus:_.Yj().oneOf(["active","inactive"],"Invalid status").required("Currency status is required")}),o=(0,D.Wx)({initialValues:c,validationSchema:d,enableReinitialize:!0,onSubmit:async e=>{a?l(a._id,e):r(e),n(),s(""),o.resetForm()}});return(0,z.jsxs)(g.A,{open:t,onClose:n,maxWidth:"sm",fullWidth:!0,children:[(0,z.jsx)(C.A,{children:a?"Edit Currency":"Add Currency"}),(0,z.jsxs)(b.A,{children:[(0,z.jsxs)(S.A,{fullWidth:!0,children:[(0,z.jsx)(w.A,{children:"Currency Name"}),(0,z.jsx)(I.A,{name:"currencyName",margin:"dense",type:"text",fullWidth:!0,value:o.values.currencyName,onChange:o.handleChange,error:o.touched.currencyName&&Boolean(o.errors.currencyName),helperText:o.touched.currencyName&&o.errors.currencyName,InputLabelProps:{shrink:!0}})]}),(0,z.jsxs)(S.A,{fullWidth:!0,children:[(0,z.jsx)(w.A,{children:"Currency Symbol"}),(0,z.jsx)(I.A,{name:"currencySymbol",margin:"dense",type:"text",fullWidth:!0,value:o.values.currencySymbol,onChange:o.handleChange,error:o.touched.currencySymbol&&Boolean(o.errors.currencySymbol),helperText:o.touched.currencySymbol&&o.errors.currencySymbol,InputLabelProps:{shrink:!0}})]}),a?null:(0,z.jsxs)(S.A,{fullWidth:!0,margin:"dense",children:[(0,z.jsx)(w.A,{shrink:!0,children:"Currency Status"}),(0,z.jsxs)(N.A,{name:"currencyStatus",value:o.values.currencyStatus,onChange:o.handleChange,error:o.touched.currencyStatus&&Boolean(o.errors.currencyStatus),children:[(0,z.jsx)(k.A,{value:"active",children:"Active"}),(0,z.jsx)(k.A,{value:"inactive",children:"Inactive"})]}),o.touched.currencyStatus&&o.errors.currencyStatus&&(0,z.jsx)("div",{style:{color:"red"},children:o.errors.currencyStatus})]})]}),(0,z.jsxs)(T.A,{children:[(0,z.jsx)(h.A,{onClick:()=>{o.resetForm(),n(),s("")},children:"Cancel"}),(0,z.jsx)(h.A,{onClick:o.handleSubmit,children:"Save"})]})]})},P=n(27232);var W=()=>{const e={inputProps:{"aria-label":"Switch demo"}},t=localStorage.getItem("user_id"),[n,a]=(0,d.useState)(""),[l,i]=(0,d.useState)(""),[c,g]=(0,d.useState)(!1),[C,b]=(0,d.useState)(!1),[S,w]=(0,d.useState)([]),I=()=>g(!1),N=()=>b(!0),k=async()=>{const e=await(0,f.x4)(`currency/list/?createdBy=${t}`);var n;e&&200===e.status&&w(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.getAllResult)},T=async e=>{const t=await(0,f.Gx)(`currency/delete/${e}`,e);t&&200===t.status&&k(),I()},D=async(e,t)=>{const n=t,r=await(0,f.X4)(`currency/edit/${e}`,n);r&&200===r.status&&k()};(0,d.useEffect)((()=>{k()}),[]);const _=[{field:"_id",headerName:"S.No.",flex:.5,cellClassName:"name-column--cell name-column--cell--capitalize",valueGetter:e=>e.api.getRowIndexRelativeToVisibleRows(e.row._id)+1},{field:"currencyName",headerName:"Currency Name",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize"},{field:"currencySymbol",headerName:"Currency Symbol",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize"},{field:"currencyStatus",headerName:"Status",flex:1,renderCell:t=>(0,z.jsxs)(s.A,{sx:{display:"flex",alignItems:"center"},children:[(0,z.jsx)(o.A,{...e,checked:"active"===t.row.currencyStatus,onChange:async e=>{const n=e.target.checked?"active":"inactive",r=S.find((e=>"active"===e.currencyStatus));if("active"===n&&r&&r._id!==t.row._id)return void P.oR.error("Only one currency can be active at a time");const a={currencyStatus:n};D(t.row._id,a)}}),(0,z.jsx)(u.A,{children:t.row.currencyStatus})]})},{field:"action",headerName:"Action",flex:1,renderCell:e=>{const t=async e=>{a(e),g(!0)};return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(s.A,{sx:{display:"flex",alignItems:"center"},children:[(0,z.jsx)(s.A,{onClick:()=>(async e=>{i(e),N()})(null===e||void 0===e?void 0:e.row),children:(0,z.jsx)(j.A,{sx:{color:"#6F2DA8"}})}),(0,z.jsx)(v.A,{openDelete:c,deleteId:n,handleCloseDelete:I,deleteData:T}),(0,z.jsx)(s.A,{onClick:()=>t(null===e||void 0===e?void 0:e.row._id),children:(0,z.jsx)(A.A,{sx:{color:"red"}})})]})})}}];return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(M,{open:C,handleClose:()=>b(!1),addCurrency:async e=>{const t=e,n=await(0,f.d_)("currency/add",t);n&&201===n.status&&k()},editData:l,UpdateCurrency:D,setEditData:i}),(0,z.jsx)(r.A,{children:(0,z.jsx)(s.A,{width:"100%",sx:{paddingTop:"15px"},children:(0,z.jsx)(x.A,{style:{height:"600px"},children:(0,z.jsx)(m.zh,{rows:null!==S&&void 0!==S?S:[],columns:_,getRowId:e=>e._id,slots:{toolbar:function(e){let{handleOpenAdd:t}=e;return(0,z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px"},children:[(0,z.jsx)(y.O,{}),(0,z.jsx)(h.A,{variant:"contained",startIcon:(0,z.jsx)(p.A,{icon:"eva:plus-fill"}),onClick:t,children:"Add Currency"})]})}},slotProps:{toolbar:{handleOpenAdd:N}},pageSize:10,rowsPerPageOptions:[10,20,50]})})})})]})},R=n(62253),O=n(93124);var B=e=>{let{open:t,handleClose:n,addMethod:r,editData:a,UpdateMethod:l,setEditData:s}=e;const i=localStorage.getItem("user_id"),c={paymentType:a?a.paymentType:"",status:a?a.status:"",createdBy:i},d=_.Ik().shape({paymentType:_.Yj().required("payment Type is required"),status:_.Yj().oneOf(["active","inactive"],"Invalid status").required("Payment Type Status is required")}),o=(0,D.Wx)({initialValues:c,validationSchema:d,enableReinitialize:!0,onSubmit:async e=>{a?l(a._id,e):r(e),n(),s(""),o.resetForm()}});return(0,z.jsxs)(g.A,{open:t,onClose:n,maxWidth:"sm",fullWidth:!0,children:[(0,z.jsx)(C.A,{children:a?"Edit Payment Method":"Add Payment Method"}),(0,z.jsxs)(b.A,{children:[(0,z.jsxs)(S.A,{fullWidth:!0,children:[(0,z.jsx)(w.A,{children:"Payment Type Name"}),(0,z.jsx)(I.A,{name:"paymentType",margin:"dense",type:"text",fullWidth:!0,value:o.values.paymentType,onChange:o.handleChange,error:o.touched.paymentType&&Boolean(o.errors.paymentType),helperText:o.touched.paymentType&&o.errors.paymentType,InputLabelProps:{shrink:!0}})]}),a?null:(0,z.jsxs)(S.A,{fullWidth:!0,margin:"dense",children:[(0,z.jsx)(w.A,{shrink:!0,children:"Payment Type Status"}),(0,z.jsxs)(N.A,{name:"status",value:o.values.status,onChange:o.handleChange,error:o.touched.status&&Boolean(o.errors.status),children:[(0,z.jsx)(k.A,{value:"active",children:"Active"}),(0,z.jsx)(k.A,{value:"inactive",children:"Inactive"})]}),o.touched.status&&o.errors.status&&(0,z.jsx)("div",{style:{color:"red"},children:o.errors.status})]})]}),(0,z.jsxs)(T.A,{children:[(0,z.jsx)(h.A,{onClick:()=>{o.resetForm(),n(),s("")},children:"Cancel"}),(0,z.jsx)(h.A,{onClick:o.handleSubmit,children:"Save"})]})]})};var q=()=>{const e={inputProps:{"aria-label":"Switch demo"}},t=localStorage.getItem("user_id"),[n,a]=(0,d.useState)(""),[l,i]=(0,d.useState)(""),[c,g]=(0,d.useState)(!1),[C,b]=(0,d.useState)(!1),[S,w]=(0,d.useState)([]),I=()=>g(!1),N=()=>b(!0),k=async()=>{const e=await(0,f.x4)(`paymentMethod/list/?createdBy=${t}`);var n;e&&200===e.status&&w(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.getAllResult)},T=async e=>{const t=await(0,f.Gx)(`paymentMethod/delete/${e}`,e);t&&200===t.status&&k(),I()},D=async(e,t)=>{const n=t,r=await(0,f.X4)(`paymentMethod/edit/${e}`,n);r&&200===r.status&&k()};(0,d.useEffect)((()=>{k()}),[]);const _=[{field:"_id",headerName:"S.No.",flex:.5,cellClassName:"name-column--cell name-column--cell--capitalize",valueGetter:e=>e.api.getRowIndexRelativeToVisibleRows(e.row._id)+1},{field:"paymentType",headerName:"Payment Type",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize"},{field:"Status",headerName:"Status",flex:1,renderCell:t=>(0,z.jsxs)(s.A,{sx:{display:"flex",alignItems:"center"},children:[(0,z.jsx)(o.A,{...e,checked:"active"===t.row.status,onChange:async e=>{const n={status:e.target.checked?"active":"inactive"};D(t.row._id,n)}}),(0,z.jsx)(u.A,{children:t.row.status})]})},{field:"action",headerName:"Action",flex:1,renderCell:e=>{const t=async e=>{a(e),g(!0)};return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(s.A,{sx:{display:"flex",alignItems:"center"},children:[(0,z.jsx)(s.A,{onClick:()=>(async e=>{i(e),N()})(null===e||void 0===e?void 0:e.row),children:(0,z.jsx)(j.A,{sx:{color:"#6F2DA8"}})}),(0,z.jsx)(v.A,{openDelete:c,deleteId:n,handleCloseDelete:I,deleteData:T}),(0,z.jsx)(s.A,{onClick:()=>t(null===e||void 0===e?void 0:e.row._id),children:(0,z.jsx)(A.A,{sx:{color:"red"}})})]})})}}];return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(B,{open:C,handleClose:()=>b(!1),addMethod:async e=>{const t=e,n=await(0,f.d_)("paymentMethod/add",t);n&&201===n.status&&k()},editData:l,UpdateMethod:D,setEditData:i}),(0,z.jsx)(r.A,{children:(0,z.jsx)(s.A,{width:"100%",sx:{paddingTop:"15px"},children:(0,z.jsx)(x.A,{style:{height:"600px"},children:(0,z.jsx)(m.zh,{rows:null!==S&&void 0!==S?S:[],columns:_,getRowId:e=>e._id,slots:{toolbar:function(e){let{handleOpenAdd:t}=e;return(0,z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px"},children:[(0,z.jsx)(y.O,{}),(0,z.jsx)(h.A,{variant:"contained",startIcon:(0,z.jsx)(p.A,{icon:"eva:plus-fill"}),onClick:t,children:"Add Method"})]})}},slotProps:{toolbar:{handleOpenAdd:N}},pageSize:10,rowsPerPageOptions:[10,20,50]})})})})]})};var F=()=>{const[e,t]=(0,d.useState)(0);return(0,z.jsx)("div",{children:(0,z.jsxs)(r.A,{children:[(0,z.jsx)(a.Ay,{container:!0,display:"flex",alignItems:"center",children:(0,z.jsxs)(l.A,{direction:"row",alignItems:"center",mb:3,justifyContent:"space-between",width:"100%",children:[(0,z.jsx)(R.A,{title:"Setting tab"}),(0,z.jsx)(l.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2})]})}),(0,z.jsxs)(s.A,{sx:{width:"100%"},children:[(0,z.jsx)(s.A,{sx:{borderBottom:1,borderColor:"divider",marginBottom:"0px"},children:(0,z.jsxs)(i.A,{value:e,onChange:(e,n)=>t(n),"aria-label":"basic tabs example",children:[(0,z.jsx)(c.A,{label:"Currency",...(0,O.L)(0)}),(0,z.jsx)(c.A,{label:"Payment Method",...(0,O.L)(1)})]})}),(0,z.jsx)(O.d,{value:e,index:0,children:(0,z.jsx)(W,{})}),(0,z.jsx)(O.d,{value:e,index:1,children:(0,z.jsx)(q,{})})]})]})})}},96319:function(e,t,n){var r=n(24994);t.A=void 0;var a=r(n(79526)),l=n(44414);t.A=(0,a.default)((0,l.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},57988:function(e,t,n){var r=n(24994);t.A=void 0;var a=r(n(79526)),l=n(44414);t.A=(0,a.default)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},7999:function(e,t,n){var r=n(24994);t.A=void 0;var a=r(n(79526)),l=n(44414);t.A=(0,a.default)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")}}]);