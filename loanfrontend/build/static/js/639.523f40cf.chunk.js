"use strict";(self.webpackChunkloan_management=self.webpackChunkloan_management||[]).push([[639],{20660:function(e,t,a){a.d(t,{A:function(){return A}});a(9950);var r=a(10226),n=a(59254),i=a(63464),o=a(40033),l=a(28170),s=a(79739),d=a(25333),c=a(96319),u=a(82053),h=a(93230),f=a(44414);const m=(0,n.Ay)(i.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function x(e){const{children:t,onClose:a,...r}=e;return(0,f.jsxs)(o.A,{sx:{m:0,p:2},...r,children:[t,a?(0,f.jsx)(d.A,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,f.jsx)(c.A,{})}):null]})}function A(e){const{openDelete:t,handleCloseDelete:a,deleteData:n,deleteId:i}=e;return(0,f.jsx)("div",{children:(0,f.jsxs)(m,{"aria-labelledby":"customized-dialog-title",open:t,children:[(0,f.jsx)(x,{id:"customized-dialog-title",onClose:a,children:"Delete"}),(0,f.jsx)(l.A,{dividers:!0,children:(0,f.jsx)(u.A,{gutterBottom:!0,p:3,children:"Are you sure you want to delete this item?"})}),(0,f.jsx)(s.A,{children:(0,f.jsxs)(h.A,{direction:"row",spacing:2,children:[(0,f.jsx)(r.A,{variant:"contained",color:"error",onClick:()=>{n(i)},children:"Yes"}),(0,f.jsx)(r.A,{variant:"contained",onClick:a,children:"No"})]})})]})})}},35777:function(e,t,a){var r=a(59254),n=a(13048);const i=(0,r.Ay)("div")({"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .name-column--cell":{color:n.A.primary.main,cursor:"pointer"},"& .name-column--cell--capitalize":{textTransform:"capitalize"},"& .name-column--cell:hover":{textDecoration:"underline"},"& .MuiDataGrid-columnHeaders":{backgroundColor:n.A.grey[200],borderBottom:"none",outline:"none !important",borderRadius:"0px"},"& .MuiDataGrid-virtualScroller":{scrollbarWidth:"1px"},"& .MuiDataGrid-toolbarContainer .MuiButton-text":{textTransform:"capitalize",fontSize:"15px"},".MuiDataGrid-cell:focus,.MuiDataGrid-columnHeader:focus,MuiDataGrid-columnHeaderCheckbox:focus":{outline:"none !important"},".css-1jiby6q-MuiDataGrid-root .MuiDataGrid-columnHeader:focus-within, .css-1jiby6q-MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none"}});t.A=i},13048:function(e,t,a){var r=a(97497);const n={0:"#FFFFFF",100:"#F9FAFB",200:"#F4F6F8",300:"#DFE3E8",400:"#C4CDD5",500:"#919EAB",600:"#637381",700:"#454F5B",800:"#212B36",900:"#161C24"},i={common:{black:"#000",white:"#fff"},primary:{lighter:"#D1E9FC",light:"#76B0F1",main:"#2065D1",dark:"#103996",darker:"#061B64",contrastText:"#fff"},secondary:{lighter:"#D6E4FF",light:"#84A9FF",main:"#3366FF",dark:"#1939B7",darker:"#091A7A",contrastText:"#fff"},info:{lighter:"#D0F2FF",light:"#74CAFF",main:"#1890FF",dark:"#0C53B7",darker:"#04297A",contrastText:"#fff"},success:{lighter:"#E9FCD4",light:"#AAF27F",main:"#54D62C",dark:"#229A16",darker:"#08660D",contrastText:n[800]},warning:{lighter:"#FFF7CD",light:"#FFE16A",main:"#FFC107",dark:"#B78103",darker:"#7A4F01",contrastText:n[800]},error:{lighter:"#FFE7D9",light:"#FFA48D",main:"#FF4842",dark:"#B72136",darker:"#7A0C2E",contrastText:"#fff"},grey:n,divider:(0,r.X4)(n[500],.24),text:{primary:n[800],secondary:n[600],disabled:n[500]},background:{paper:"#fff",default:n[100],neutral:n[200]},action:{active:n[600],hover:(0,r.X4)(n[500],.08),selected:(0,r.X4)(n[500],.16),disabled:(0,r.X4)(n[500],.8),disabledBackground:(0,r.X4)(n[500],.24),focus:(0,r.X4)(n[500],.24),hoverOpacity:.08,disabledOpacity:.48}};t.A=i},48875:function(e,t,a){a.d(t,{A:function(){return c}});var r=a(11942),n=a.n(r),i=a(9950),o=a(14650),l=a(16491),s=a(44414);const d=(0,i.forwardRef)(((e,t)=>{let{icon:a,width:r=20,sx:n,...i}=e;return(0,s.jsx)(l.A,{ref:t,component:o.In,icon:a,sx:{width:r,height:r,...n},...i})}));d.propTypes={sx:n().object,width:n().oneOfType([n().number,n().string]),icon:n().oneOfType([n().element,n().string])};var c=d},92639:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var r=a(9950),n=a(82053),i=a(16491),o=a(77335),l=a(19808),s=a(93230),d=a(10226),c=a(48089),u=a(55035),h=a(73062),f=a(35777),m=a(48875),x=a(7999),A=a(57988),p=a(20660),v=a(27702),j=a(63464),y=a(40033),g=a(28170),C=a(6493),F=a(60899),D=a(29277),b=a(8145),T=a(25979),w=a(70006),k=a(23266),N=a(24516),R=a(79739),B=a(43939),M=a(60666),I=a(44414);var O=e=>{let{open:t,handleClose:a,addLoanOffers:r,editData:n,UpdateLoanOffers:i,setEditData:o,loanTypeDetails:l}=e;const s=localStorage.getItem("user_id"),c={offerName:n?n.offerName:"",loanType:n?n.loanType:"",interestRate:n?n.interestRate:"",status:n?n.status:"",createdBy:s},u=M.Ik().shape({offerName:M.Yj().required("Offer Name is required"),loanType:M.Yj().required("Loan Type is required"),interestRate:M.ai().min(1,"Interest rate must be at least 1%").max(30,"Interest rate cannot exceed 30%").required("Interest rate is required"),status:M.Yj().oneOf(["active","inactive"],"Invalid status").required("Loan Offers Status is required")}),h=(0,B.Wx)({initialValues:c,validationSchema:u,enableReinitialize:!0,onSubmit:async e=>{n?i(n._id,e):r(e),a(),o(""),h.resetForm()}});return(0,I.jsxs)(j.A,{open:t,onClose:a,maxWidth:"sm",fullWidth:!0,children:[(0,I.jsx)(y.A,{children:n?"Edit Loan Offers":"Add Loan Offers"}),(0,I.jsx)(g.A,{dividers:!0,children:(0,I.jsx)("form",{children:(0,I.jsx)(C.A,{id:"scroll-dialog-description",tabIndex:-1,children:(0,I.jsxs)(F.Ay,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,I.jsxs)(F.Ay,{item:!0,xs:12,sm:6,children:[(0,I.jsx)(D.A,{children:"Offers Name"}),(0,I.jsx)(b.A,{id:"offerName",name:"offerName",size:"small",fullWidth:!0,value:h.values.offerName,onChange:h.handleChange,error:h.touched.offerName&&Boolean(h.errors.offerName),helperText:h.touched.offerName&&h.errors.offerName})]}),(0,I.jsxs)(F.Ay,{item:!0,xs:12,sm:6,md:6,children:[(0,I.jsx)(D.A,{children:"Loan Type"}),(0,I.jsxs)(T.A,{fullWidth:!0,children:[(0,I.jsx)(w.A,{labelId:"demo-simple-select-label",id:"",name:"loanType",label:"",size:"small",value:h.values.loanType,onChange:h.handleChange,error:h.touched.loanType&&Boolean(h.errors.loanType),children:null===l||void 0===l?void 0:l.map((e=>(0,I.jsx)(k.A,{value:e.loanName,children:e.loanName},e._id)))}),(0,I.jsx)(N.A,{error:h.touched.loanType&&Boolean(h.errors.loanType),children:h.touched.loanType&&h.errors.loanType})]})]}),(0,I.jsxs)(F.Ay,{item:!0,xs:12,sm:6,children:[(0,I.jsx)(D.A,{children:"Interest Rate"}),(0,I.jsx)(b.A,{id:"interestRate",name:"interestRate",type:"number",size:"small",fullWidth:!0,value:h.values.interestRate,onChange:h.handleChange,error:h.touched.interestRate&&Boolean(h.errors.interestRate),helperText:h.touched.interestRate&&h.errors.interestRate})]}),(0,I.jsxs)(F.Ay,{item:!0,xs:12,sm:6,md:6,children:[(0,I.jsx)(D.A,{children:"Loan Offers Status"}),(0,I.jsxs)(T.A,{fullWidth:!0,children:[(0,I.jsxs)(w.A,{labelId:"demo-simple-select-label",id:"",name:"status",label:"",size:"small",value:h.values.status||null,onChange:h.handleChange,error:h.touched.status&&Boolean(h.errors.status),children:[(0,I.jsx)(k.A,{value:"active",children:"Active"}),(0,I.jsx)(k.A,{value:"inactive",children:"Inactive"})]}),(0,I.jsx)(N.A,{error:h.touched.status&&Boolean(h.errors.status),children:h.touched.status&&h.errors.status})]})]})]})})})}),(0,I.jsxs)(R.A,{children:[(0,I.jsx)(d.A,{type:"submit",variant:"contained",onClick:h.handleSubmit,style:{textTransform:"capitalize"},color:"secondary",children:"Save"}),(0,I.jsx)(d.A,{type:"reset",variant:"outlined",style:{textTransform:"capitalize"},onClick:()=>{h.resetForm(),a()},color:"error",children:"Cancel"})]})]})};var S=()=>{const e={inputProps:{"aria-label":"Switch demo"}},t=localStorage.getItem("user_id"),[a,j]=(0,r.useState)(""),[y,g]=(0,r.useState)(""),[C,F]=(0,r.useState)(!1),[D,b]=(0,r.useState)(!1),[T,w]=(0,r.useState)([]),[k,N]=(0,r.useState)([]),R=()=>F(!1),B=()=>b(!0),M=async()=>{const e=await(0,v.x4)(`loanOffers/list/?createdBy=${t}`);var a;e&&200===e.status&&w(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.getAllResult)},S=async e=>{const t=await(0,v.Gx)(`loanOffers/delete/${e}`,e);t&&200===t.status&&M(),R()},z=async(e,t)=>{const a=t,r=await(0,v.X4)(`loanOffers/edit/${e}`,a);r&&200===r.status&&M()};(0,r.useEffect)((()=>{M(),(async()=>{const e=await(0,v.x4)(`loanType/list/?createdBy=${t}`);var a;e&&200===e.status&&N(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.getAllResult)})()}),[]);const E=[{field:"_id",headerName:"S.No.",flex:.5,cellClassName:"name-column--cell name-column--cell--capitalize",valueGetter:e=>e.api.getRowIndexRelativeToVisibleRows(e.row._id)+1},{field:"offerName",headerName:"Offers Name",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize"},{field:"loanType",headerName:"Loan Type",flex:1},{field:"interestRate",headerName:"Interest Rate",flex:1,renderCell:e=>{var t;return(0,I.jsx)(n.A,{children:`${null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.interestRate} %`})}},{field:"Status",headerName:"Status",flex:1,renderCell:t=>(0,I.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,I.jsx)(o.A,{...e,checked:"active"===t.row.status,onChange:async e=>{const a={status:e.target.checked?"active":"inactive"};z(t.row._id,a)}}),(0,I.jsx)(n.A,{children:t.row.status})]})},{field:"action",headerName:"Action",flex:1,renderCell:e=>{const t=async e=>{j(e),F(!0)};return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,I.jsx)(i.A,{onClick:()=>(async e=>{g(e),B()})(null===e||void 0===e?void 0:e.row),children:(0,I.jsx)(x.A,{sx:{color:"#6F2DA8"}})}),(0,I.jsx)(p.A,{openDelete:C,deleteId:a,handleCloseDelete:R,deleteData:S}),(0,I.jsx)(i.A,{onClick:()=>t(null===e||void 0===e?void 0:e.row._id),children:(0,I.jsx)(A.A,{sx:{color:"red"}})})]})})}}];return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(O,{open:D,handleClose:()=>b(!1),addLoanOffers:async e=>{const t=e,a=await(0,v.d_)("loanOffers/add",t);a&&201===a.status&&M()},editData:y,UpdateLoanOffers:z,setEditData:g,loanTypeDetails:k}),(0,I.jsxs)(l.A,{children:[(0,I.jsxs)(s.A,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,I.jsx)(n.A,{variant:"h4",children:"Loans Offers Lists"}),(0,I.jsx)(s.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,I.jsx)(d.A,{variant:"contained",startIcon:(0,I.jsx)(m.A,{icon:"eva:plus-fill"}),onClick:B,children:"Add Offers"})})]}),(0,I.jsx)(f.A,{children:(0,I.jsx)(i.A,{width:"100%",children:(0,I.jsx)(c.A,{style:{height:"600px",paddingTop:"15px"},children:(0,I.jsx)(u.zh,{rows:null!==T&&void 0!==T?T:[],columns:E,getRowId:e=>e._id,slots:{toolbar:h.O},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})]})}},96319:function(e,t,a){var r=a(24994);t.A=void 0;var n=r(a(79526)),i=a(44414);t.A=(0,n.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},57988:function(e,t,a){var r=a(24994);t.A=void 0;var n=r(a(79526)),i=a(44414);t.A=(0,n.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},7999:function(e,t,a){var r=a(24994);t.A=void 0;var n=r(a(79526)),i=a(44414);t.A=(0,n.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},6493:function(e,t,a){a.d(t,{A:function(){return v}});var r=a(98587),n=a(58168),i=a(9950),o=a(72004),l=a(88465),s=a(59254),d=a(19608),c=a(18463),u=a(82053),h=a(1763),f=a(423);function m(e){return(0,f.Ay)("MuiDialogContentText",e)}(0,h.A)("MuiDialogContentText",["root"]);var x=a(44414);const A=["children","className"],p=(0,s.Ay)(u.A,{shouldForwardProp:e=>(0,d.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({});var v=i.forwardRef((function(e,t){const a=(0,c.b)({props:e,name:"MuiDialogContentText"}),{className:i}=a,s=(0,r.A)(a,A),d=(e=>{const{classes:t}=e,a=(0,l.A)({root:["root"]},m,t);return(0,n.A)({},t,a)})(s);return(0,x.jsx)(p,(0,n.A)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:s,className:(0,o.A)(d.root,i)},a,{classes:d}))}))}}]);