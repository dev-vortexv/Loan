"use strict";(self.webpackChunkloan_management=self.webpackChunkloan_management||[]).push([[719],{20660:function(e,t,r){r.d(t,{A:function(){return p}});r(9950);var a=r(10226),n=r(59254),l=r(63464),i=r(40033),d=r(28170),s=r(79739),o=r(25333),c=r(96319),u=r(82053),m=r(93230),h=r(44414);const x=(0,n.Ay)(l.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}}));function A(e){const{children:t,onClose:r,...a}=e;return(0,h.jsxs)(i.A,{sx:{m:0,p:2},...a,children:[t,r?(0,h.jsx)(o.A,{"aria-label":"close",onClick:r,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,h.jsx)(c.A,{})}):null]})}function p(e){const{openDelete:t,handleCloseDelete:r,deleteData:n,deleteId:l}=e;return(0,h.jsx)("div",{children:(0,h.jsxs)(x,{"aria-labelledby":"customized-dialog-title",open:t,children:[(0,h.jsx)(A,{id:"customized-dialog-title",onClose:r,children:"Delete"}),(0,h.jsx)(d.A,{dividers:!0,children:(0,h.jsx)(u.A,{gutterBottom:!0,p:3,children:"Are you sure you want to delete this item?"})}),(0,h.jsx)(s.A,{children:(0,h.jsxs)(m.A,{direction:"row",spacing:2,children:[(0,h.jsx)(a.A,{variant:"contained",color:"error",onClick:()=>{n(l)},children:"Yes"}),(0,h.jsx)(a.A,{variant:"contained",onClick:r,children:"No"})]})})]})})}},35777:function(e,t,r){var a=r(59254),n=r(13048);const l=(0,a.Ay)("div")({"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .name-column--cell":{color:n.A.primary.main,cursor:"pointer"},"& .name-column--cell--capitalize":{textTransform:"capitalize"},"& .name-column--cell:hover":{textDecoration:"underline"},"& .MuiDataGrid-columnHeaders":{backgroundColor:n.A.grey[200],borderBottom:"none",outline:"none !important",borderRadius:"0px"},"& .MuiDataGrid-virtualScroller":{scrollbarWidth:"1px"},"& .MuiDataGrid-toolbarContainer .MuiButton-text":{textTransform:"capitalize",fontSize:"15px"},".MuiDataGrid-cell:focus,.MuiDataGrid-columnHeader:focus,MuiDataGrid-columnHeaderCheckbox:focus":{outline:"none !important"},".css-1jiby6q-MuiDataGrid-root .MuiDataGrid-columnHeader:focus-within, .css-1jiby6q-MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none"}});t.A=l},13048:function(e,t,r){var a=r(97497);const n={0:"#FFFFFF",100:"#F9FAFB",200:"#F4F6F8",300:"#DFE3E8",400:"#C4CDD5",500:"#919EAB",600:"#637381",700:"#454F5B",800:"#212B36",900:"#161C24"},l={common:{black:"#000",white:"#fff"},primary:{lighter:"#D1E9FC",light:"#76B0F1",main:"#2065D1",dark:"#103996",darker:"#061B64",contrastText:"#fff"},secondary:{lighter:"#D6E4FF",light:"#84A9FF",main:"#3366FF",dark:"#1939B7",darker:"#091A7A",contrastText:"#fff"},info:{lighter:"#D0F2FF",light:"#74CAFF",main:"#1890FF",dark:"#0C53B7",darker:"#04297A",contrastText:"#fff"},success:{lighter:"#E9FCD4",light:"#AAF27F",main:"#54D62C",dark:"#229A16",darker:"#08660D",contrastText:n[800]},warning:{lighter:"#FFF7CD",light:"#FFE16A",main:"#FFC107",dark:"#B78103",darker:"#7A4F01",contrastText:n[800]},error:{lighter:"#FFE7D9",light:"#FFA48D",main:"#FF4842",dark:"#B72136",darker:"#7A0C2E",contrastText:"#fff"},grey:n,divider:(0,a.X4)(n[500],.24),text:{primary:n[800],secondary:n[600],disabled:n[500]},background:{paper:"#fff",default:n[100],neutral:n[200]},action:{active:n[600],hover:(0,a.X4)(n[500],.08),selected:(0,a.X4)(n[500],.16),disabled:(0,a.X4)(n[500],.8),disabledBackground:(0,a.X4)(n[500],.24),focus:(0,a.X4)(n[500],.24),hoverOpacity:.08,disabledOpacity:.48}};t.A=l},48875:function(e,t,r){r.d(t,{A:function(){return c}});var a=r(11942),n=r.n(a),l=r(9950),i=r(14650),d=r(16491),s=r(44414);const o=(0,l.forwardRef)(((e,t)=>{let{icon:r,width:a=20,sx:n,...l}=e;return(0,s.jsx)(d.A,{ref:t,component:i.In,icon:r,sx:{width:a,height:a,...n},...l})}));o.propTypes={sx:n().object,width:n().oneOfType([n().number,n().string]),icon:n().oneOfType([n().element,n().string])};var c=o},44719:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var a=r(9950),n=r(13564),l=r(16491),i=r(82053),d=r(25277),s=r(25333),o=r(19808),c=r(93230),u=r(10226),m=r(48089),h=r(35777),x=r(55035),A=r(73062),p=r(7999),v=r(57988),F=r(99532),f=r(48875),j=r(63464),y=r(79739),g=r(28170),C=r(6493),b=r(40033),w=r(60899),D=r(8145),S=r(7762),k=r(43939),B=r(60666),N=r(29277),E=r(27232),W=r(82108),T=(r(74388),r(47065)),z=r(44414);var M=e=>{const t=localStorage.getItem("user_id"),{open:r,handleClose:n,AddWallet:l,EditWallet:d,editWalletData:s,setEditWalletData:o}=e,[c,m]=(0,a.useState)(T.EditorState.createEmpty()),[h,x]=(0,a.useState)("");(0,a.useEffect)((()=>{if(s)try{m(T.EditorState.createWithContent(T.ContentState.createFromBlockArray((0,T.convertFromHTML)(null===s||void 0===s?void 0:s.description))))}catch(e){console.error("Error parsing JSON:",e)}}),[s]);const A=B.Ik({walletName:B.Yj().required("walletName is required"),addFunds:B.ai().typeError("Add Funds must be a number").positive("Add Funds must be a positive number").min(1,"Add Funds must be at least 1").max(1e7,"Add Funds must not exceed 1 crore (10,000,000)").integer("Add Funds must be an integer").required("Add Funds is required")}),p={walletName:s?s.walletName:"",addFunds:s?s.addFunds:"",description:s?s.description:"",createdBy:t},v=(0,k.Wx)({initialValues:p,validationSchema:A,enableReinitialize:!0,onSubmit:async(e,t)=>{let{resetForm:r}=t;const a={...e,description:h};s?d(s._id,a):l(a),n(),m(T.EditorState.createEmpty()),x(""),o(""),!s&&E.oR.success("Wallet Add successfully"),r()}});return(0,z.jsx)("div",{children:(0,z.jsxs)(j.A,{open:r,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,z.jsxs)(b.A,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,z.jsxs)(i.A,{variant:"h6",children:[s?"Edit Wallet":"Add Wallet"," "]}),(0,z.jsx)(i.A,{children:(0,z.jsx)(S.A,{onClick:n,style:{cursor:"pointer"}})})]}),(0,z.jsx)(g.A,{dividers:!0,children:(0,z.jsx)("form",{children:(0,z.jsxs)(C.A,{id:"scroll-dialog-description",tabIndex:-1,children:[(0,z.jsxs)(w.Ay,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,z.jsxs)(w.Ay,{item:!0,xs:12,sm:12,md:12,children:[(0,z.jsx)(N.A,{children:"Wallet Name"}),(0,z.jsx)(D.A,{id:"walletName",name:"walletName",size:"small",fullWidth:!0,value:v.values.walletName,onChange:v.handleChange,error:v.touched.walletName&&Boolean(v.errors.walletName),helperText:v.touched.walletName&&v.errors.walletName})]}),(0,z.jsxs)(w.Ay,{item:!0,xs:12,sm:6,md:12,children:[(0,z.jsx)(N.A,{children:"Add Funds"}),(0,z.jsx)(D.A,{id:"addFunds",name:"addFunds",type:"number",size:"small",fullWidth:!0,value:v.values.addFunds,onChange:v.handleChange,error:v.touched.addFunds&&Boolean(v.errors.addFunds),helperText:v.touched.addFunds&&v.errors.addFunds})]})]}),(0,z.jsx)(w.Ay,{container:!0,rowSpacing:3,mt:2,columnSpacing:{xs:0,sm:5,md:4},children:(0,z.jsxs)(w.Ay,{item:!0,xs:12,children:[(0,z.jsx)(N.A,{children:"Description"}),(0,z.jsx)(W.Editor,{editorStyle:{minHeight:"180px"},wrapperClassName:"wrapper-class",editorClassName:"editor-class",toolbarClassName:"toolbar-class",editorState:c,onEditorStateChange:e=>{var t;m(e);const r=e.getCurrentContent(),a=(0,T.convertToRaw)(r);x(null===a||void 0===a||null===(t=a.blocks[0])||void 0===t?void 0:t.text)}})]})})]})})}),(0,z.jsxs)(y.A,{children:[(0,z.jsx)(u.A,{type:"submit",variant:"contained",onClick:v.handleSubmit,style:{textTransform:"capitalize"},color:"secondary",children:"Save"}),(0,z.jsx)(u.A,{type:"reset",variant:"outlined",style:{textTransform:"capitalize"},onClick:()=>{m(T.EditorState.createEmpty()),x(""),v.resetForm(),o(""),n()},color:"error",children:"Cancel"})]})]})})},I=r(27702),G=r(20660);var R=e=>{const t=localStorage.getItem("user_id"),{open:r,handleClose:a,addFundsData:n,EditWallet:l}=e,d=B.Ik({currentBalance:B.Yj().required("Current Balance is required"),addFunds:B.ai().typeError("Add Funds must be a number").positive("Add Funds must be a positive number").min(1,"Add Funds must be at least 1").max(1e7,"Add Funds must not exceed 1 crore (10,000,000)").integer("Add Funds must be an integer").required("Add Funds is required")}),s={currentBalance:n?n.addFunds:"",addFunds:"",createdBy:t},o=(0,k.Wx)({initialValues:s,validationSchema:d,enableReinitialize:!0,onSubmit:async(e,t)=>{let{resetForm:r}=t;const i={...e,addFunds:e.currentBalance+e.addFunds};l(n._id,i),a(),r()}});return(0,z.jsx)("div",{children:(0,z.jsxs)(j.A,{open:r,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[(0,z.jsxs)(b.A,{id:"scroll-dialog-title",style:{display:"flex",justifyContent:"space-between"},children:[(0,z.jsx)(i.A,{variant:"h6",children:"Add Funds"}),(0,z.jsx)(i.A,{children:(0,z.jsx)(S.A,{onClick:a,style:{cursor:"pointer"}})})]}),(0,z.jsx)(g.A,{dividers:!0,children:(0,z.jsx)("form",{children:(0,z.jsx)(C.A,{id:"scroll-dialog-description",tabIndex:-1,children:(0,z.jsxs)(w.Ay,{container:!0,rowSpacing:3,columnSpacing:{xs:0,sm:5,md:4},children:[(0,z.jsxs)(w.Ay,{item:!0,xs:12,sm:12,md:12,children:[(0,z.jsx)(N.A,{children:"Current Balance"}),(0,z.jsx)(D.A,{id:"currentBalance",name:"currentBalance",size:"small",fullWidth:!0,value:o.values.currentBalance,onChange:o.handleChange,disabled:o.values.currentBalance,error:o.touched.currentBalance&&Boolean(o.errors.currentBalance),helperText:o.touched.currentBalance&&o.errors.currentBalance})]}),(0,z.jsxs)(w.Ay,{item:!0,xs:12,sm:6,md:12,children:[(0,z.jsx)(N.A,{children:"Add Funds"}),(0,z.jsx)(D.A,{id:"addFunds",name:"addFunds",type:"number",size:"small",fullWidth:!0,value:o.values.addFunds,onChange:o.handleChange,error:o.touched.addFunds&&Boolean(o.errors.addFunds),helperText:o.touched.addFunds&&o.errors.addFunds})]})]})})})}),(0,z.jsxs)(y.A,{children:[(0,z.jsx)(u.A,{type:"submit",variant:"contained",onClick:o.handleSubmit,style:{textTransform:"capitalize"},color:"secondary",children:"Save"}),(0,z.jsx)(u.A,{type:"reset",variant:"outlined",style:{textTransform:"capitalize"},onClick:()=>{o.resetForm(),a()},color:"error",children:"Cancel"})]})]})})};var _=()=>{const e=localStorage.getItem("user_id"),t=(0,n.Zp)(),[r,j]=(0,a.useState)(!1),[y,g]=(0,a.useState)([]),[C,b]=(0,a.useState)(!1),[w,D]=(0,a.useState)(""),[S,k]=(0,a.useState)(""),[B,N]=(0,a.useState)([]),[E,W]=(0,a.useState)(!1),[T,_]=(0,a.useState)(""),q=()=>j(!0),H=()=>b(!1),O=async()=>{const t=await(0,I.x4)(`Wallet/list?createdBy=${e}`);t&&200===t.status&&g(t.data.getAllResult)},X=async(e,t)=>{const r=await(0,I.X4)(`Wallet/edit/${e}`,t);r&&200===r.status&&O()};(0,a.useEffect)((()=>{O(),(async()=>{const t=await(0,I.x4)(`currency/list?createdBy=${e}`);if(t&&200===t.status){const e=t.data.getAllResult.filter((e=>"active"===e.currencyStatus));N(e)}})()}),[]);const $=[{field:"_id",headerName:"S.No.",flex:.5,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:e=>e.api.getAllRowIds().indexOf(e.id)+1},{field:"walletName",headerName:"Name",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:e=>{var r;return(0,z.jsx)(l.A,{onClick:()=>{var r;const a=null===e||void 0===e||null===(r=e.row)||void 0===r?void 0:r._id;t(`/Wallets/walletList/View/${a}`)},style:{cursor:"pointer"},children:(0,z.jsx)(i.A,{children:null===e||void 0===e||null===(r=e.row)||void 0===r?void 0:r.walletName})})}},{field:"slug",headerName:"Slug",flex:1,renderCell:e=>{var t;return(0,z.jsx)(d.A,{label:null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t.walletName,color:"primary",variant:"outlined"})}},{field:"addFunds",headerName:"Balance",flex:1,cellClassName:"name-column--cell--capitalize",renderCell:e=>{var t,r;return(0,z.jsxs)(i.A,{children:[`${null===(t=B[0])||void 0===t?void 0:t.currencySymbol} ${null===e||void 0===e||null===(r=e.row)||void 0===r?void 0:r.addFunds}`," "]})}},{field:"Add Fund",headerName:"Add Funds",flex:1,renderCell:e=>{const t=e=>{_(e),W(!0)};return(0,z.jsx)(l.A,{children:(0,z.jsx)(s.A,{fontSize:"40px",color:"primary",onClick:()=>t(e.row),children:(0,z.jsx)(F.A,{})})})}},{field:"action",headerName:"Action",flex:1,renderCell:e=>{const t=e=>{var t;D(null===e||void 0===e||null===(t=e.row)||void 0===t?void 0:t._id),b(!0)};return(0,z.jsxs)(l.A,{children:[(0,z.jsx)(s.A,{fontSize:"40px",color:"primary",onClick:()=>{return k(null===(t=e)||void 0===t?void 0:t.row),void q();var t},children:(0,z.jsx)(p.A,{})}),(0,z.jsx)(s.A,{color:"error",onClick:()=>t(e),children:(0,z.jsx)(v.A,{})})]})}}];return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(R,{open:E,handleClose:()=>W(!1),addFundsData:T,EditWallet:X}),(0,z.jsx)(M,{open:r,handleClose:()=>j(!1),AddWallet:async e=>{const t=e,r=await(0,I.d_)("Wallet/add",t);r&&201===r.status&&O()},EditWallet:X,editWalletData:S,setEditWalletData:k,currencyData:B}),(0,z.jsx)(G.A,{openDelete:C,handleCloseDelete:H,deleteData:async e=>{const t=await(0,I.Gx)(`Wallet/delete/${e}`);t&&200===t.status&&O(),H()},deleteId:w}),(0,z.jsxs)(o.A,{children:[(0,z.jsxs)(c.A,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,z.jsx)(i.A,{variant:"h4",children:"Wallets Lists"}),(0,z.jsx)(c.A,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,z.jsx)(u.A,{variant:"contained",startIcon:(0,z.jsx)(f.A,{icon:"eva:plus-fill"}),onClick:q,children:"New Wallet"})})]}),(0,z.jsx)(h.A,{children:(0,z.jsx)(l.A,{width:"100%",children:(0,z.jsx)(m.A,{style:{height:"600px",paddingTop:"15px"},children:(0,z.jsx)(x.zh,{rows:null!==y&&void 0!==y?y:[],columns:$,getRowId:e=>e._id,slots:{toolbar:A.O},slotProps:{toolbar:{showQuickFilter:!0}}})})})})]})]})}},99532:function(e,t,r){var a=r(24994);t.A=void 0;var n=a(r(79526)),l=r(44414);t.A=(0,n.default)((0,l.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},6493:function(e,t,r){r.d(t,{A:function(){return F}});var a=r(98587),n=r(58168),l=r(9950),i=r(72004),d=r(88465),s=r(59254),o=r(19608),c=r(18463),u=r(82053),m=r(1763),h=r(423);function x(e){return(0,h.Ay)("MuiDialogContentText",e)}(0,m.A)("MuiDialogContentText",["root"]);var A=r(44414);const p=["children","className"],v=(0,s.Ay)(u.A,{shouldForwardProp:e=>(0,o.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({});var F=l.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiDialogContentText"}),{className:l}=r,s=(0,a.A)(r,p),o=(e=>{const{classes:t}=e,r=(0,d.A)({root:["root"]},x,t);return(0,n.A)({},t,r)})(s);return(0,A.jsx)(v,(0,n.A)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:s,className:(0,i.A)(o.root,l)},r,{classes:o}))}))}}]);